<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.js">
        </script>
    </head>
    <body>

    <script>
        var data = [1, 2, 3, 4, 5];
        var scale = d3.scale.linear()
            .domain([1, 5]) // data space
            .range([0,200]); // pixel space
        var svg = d3.select("body").append("svg")
            .attr("width", 250)
            .attr("height", 250);

        function render(data, color){
            // Bind data
            var rects = svg.selectAll("rect").data(data);
            // enter phase keep static data
            rects.enter().append("rect")
                .attr("y", 50)
                .attr("width", 20)
                .attr("height", 20);
            //update
            rects
                .attr("x", scale)
                .attr("fill", color);
            // exist
            rects.exit().remove();
        }
        setTimeout( function () { render ([1, 2, 3 ],'red'); }, 1000);
        setTimeout( function () { render ([1, 2, 3, 4, 5 ],'blue'); }, 2000);
        setTimeout( function () { render ([1, 2], 'green'); }, 3000);
        setTimeout( function () { render ([3, 4, 5 ],'magenta'); }, 4000);
    </script>
    </body>
</html>
